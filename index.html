<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="result"></div>

    <button id="ROCK">Rock</button>
    <button id="PAPER">Paper</button>
    <button id="SCISSORS">Scissors</button>


    <script>
        let computerChoice,
            playerChoice,
            result,
            scorePlayer = 0,
            scoreComputer = 0;


        function getComputerChoice(){
            // 0=rock, 1=paper, 2=scissors
            // math.random generates a float from 0 to 1
            // the value is multiplied by 3
            // math floor rounds down to an integer.
            computerChoice = Math.floor(Math.random() * 3);
            switch(computerChoice){
                case 0: computerChoice = "ROCK";
                        break;
                case 1: computerChoice = "PAPER";
                        break;
                case 2: computerChoice = "SCISSORS";
                        break;
            }
            return computerChoice;
        }

        function getPlayerChoice(){

           return playerChoice;
        }

        function rps(player, computer){
            getComputerChoice(); //computerChoice

            console.log(`the player chose: ${playerChoice}`);
            console.log(`the computer chose: ${computerChoice}`);

            if(playerChoice == computerChoice){
                return result = "it's a draw!"
            }
            else if(playerChoice == "PAPER" && computerChoice == "ROCK" 
                    || playerChoice == "ROCK" && computerChoice == "SCISSORS"
                    || playerChoice == "SCISSORS" && computerChoice == "PAPER"){
                scorePlayer++;
                return result = "You win!";
            } else {
                scoreComputer++;
                return result = "You lose!";
            }
        }

            const buttons = document.querySelectorAll("button");

            buttons.forEach((button) => {
                button.addEventListener("click", () =>{
                    playerChoice = button.id;
                    rps();
                
                    console.log(result);
                    const divResult = document.querySelector("#result");
                    divResult.innerHTML=`The player chose: ${playerChoice} <br>
                                         the computer chose: ${computerChoice} <br> 
                                         result: ${result} <br> <br> 
                                         Player ${scorePlayer} | Computer ${scoreComputer} `;
                    if(scorePlayer >= 5){
                        divResult.innerText=`The player wins the game!`;
                        scorePlayer = 0;
                        scoreComputer = 0;
                    }else if(scoreComputer >= 5){
                        divResult.innerText=`The computer wins the game!`;
                        scorePlayer = 0;
                        scoreComputer = 0;
                    }
                });
            });

    </script>
</body>
</html>